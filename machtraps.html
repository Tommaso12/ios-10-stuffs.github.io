<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on https://github.com/jonrohan -->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen">
  <link rel="stylesheet" href="stylesheets/github-dark.css">
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/script.js"></script>

  <title>iOS Hacker Wiki</title>
  <meta name="description" content="">

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-79852874-1', 'auto');
  ga('send', 'pageview');

</script>

</head>

<body>

  <div class="wrapper">
    <header>
      <h1 class="title"><a href="http://ioshackerwiki.com/">iOS Hacker Wiki <a></h1>
    </header>
    <div id="container">
      <p class="tagline"></p>
      <div id="main" role="main">
        <div class="download-bar">
        <div class="inner">
          <a href="https://github.com/iOS-10-stuffs" class="code">View iOS Hacker Wiki on GitHub</a>
        </div>
        <span class="blc"></span><span class="trc"></span>
        </div>
        <article class="markdown-body">
          <h1>
<a id="welcome" class="anchor" href="#welcome" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Mach Traps and MIG tables</h1>

<p>
<p>This is a 64-bit kernel from iOS 10.x, or later (3705.0.0.2.3)<br>
mach_trap_table offset in file/memory (for patching purposes): 0x5ca28/fffffff007460a28<br>
Kern invalid should be fffffff0074c3334. Ignoring those<br>
 10 _kernelrpc_mach_vm_allocate_trap fffffff0074997a8 -<br>
 11 _kernelrpc_vm_allocate_trap fffffff007499a6c -<br>
 12 _kernelrpc_mach_vm_deallocate_trap fffffff007499850 -<br>
 14 _kernelrpc_mach_vm_protect_trap fffffff007499908 -<br>
 15 _kernelrpc_vm_protect_trap fffffff007499974 -<br>
 16 _kernelrpc_mach_port_allocate_trap fffffff007499b38 -<br>
 17 _kernelrpc_mach_port_destroy_trap fffffff007499bd4 -<br>
 18 _kernelrpc_mach_port_deallocate_trap fffffff007499c38 -<br>
 19 _kernelrpc_mach_port_mod_refs_trap fffffff007499c9c -<br>
 20 _kernelrpc_mach_port_move_member_trap fffffff007499d08 -<br>
 21 _kernelrpc_mach_port_insert_right_trap fffffff007499d70 -<br>
 22 _kernelrpc_mach_port_insert_member_trap fffffff007499e60 -<br>
 23 _kernelrpc_mach_port_extract_member_trap fffffff007499ec8 -<br>
 24 __kernelrpc_mach_port_construct_trap fffffff007499f30 -<br>
 25 __kernelrpc_mach_port_destruct_trap fffffff007499fdc -<br>
 26 mach_reply_port fffffff0074a6184 -<br>
 27 thread_self_trap fffffff0074a615c -<br>
 28 task_self_trap fffffff0074a6130 -<br>
 29 host_self_trap fffffff0074a48c0 -<br>
 31 mach_msg_trap fffffff00749b984 -<br>
 32 mach_msg_overwrite_trap fffffff00749b59c -<br>
 33 semaphore_signal_trap fffffff0074c1df4 -<br>
 34 semaphore_signal_all_trap fffffff0074c1ed0 -<br>
 35 semaphore_signal_thread_trap fffffff0074c1d34 -<br>
 36 semaphore_wait_trap fffffff0074c21cc -<br>
 37 semaphore_wait_signal_trap fffffff0074c24a0 -<br>
 38 semaphore_timedwait_trap fffffff0074c2364 -<br>
 39 semaphore_timedwait_signal_trap fffffff0074c2550 -<br>
 41 __kernelrpc_mach_port_guard_trap fffffff00749a048 -<br>
 42 __kernelrpc_mach_port_unguard_trap fffffff00749a0b4 -<br>
 43 map_fd fffffff007499694 -<br>
 44 task_name_for_pid fffffff0077f1c08 -<br>
 45 task_for_pid fffffff0077f15dc -<br>
 46 pid_for_task fffffff0077f14b8 -<br>
 48 macx_swapon fffffff0077f39cc -<br>
 49 macx_swapoff fffffff0077f39d4 -<br>
 51 macx_triggers fffffff0077f3930 -<br>
 52 macx_backing_store_suspend fffffff0077f3928 -<br>
 53 macx_backing_store_recovery fffffff0077f3920 -<br>
 58 pfz_exit fffffff0074c26e0 -<br>
 59 swtch_pri fffffff0074c2814 -<br>
 60 swtch fffffff0074c26e8 -<br>
 61 thread_switch fffffff0074c2ac8 -<br>
 62 clock_sleep_trap fffffff0074a0880 -<br>
 89 mach_timebase_info_trap fffffff00749f638 -<br>
 90 mach_wait_until_trap fffffff00749ff50 -<br>
 91 mk_timer_create_trap fffffff0074aa1e8 -<br>
 92 mk_timer_destroy_trap fffffff0074aa43c -<br>
 93 mk_timer_arm_trap fffffff0074aa4bc -<br>
 94 mk_timer_cancel_trap fffffff0074aa5d8 -<br>
100 iokit_user_client_trap fffffff0078a80a4 -<br>
host_priv_subsystem is @0xfffffff007461b20!<br>
 0: __Xhost_get_boot_info: fffffff0074dcfd0 (400)<br>
 1: __Xhost_reboot: fffffff0074dd17c (401)<br>
 2: __Xhost_priv_statistics: fffffff0074dd2d0 (402)<br>
 3: __Xhost_default_memory_manager: fffffff0074dd46c (403)<br>
 4: __Xvm_wire: fffffff0074dd6f4 (404)<br>
 5: __Xthread_wire: fffffff0074dd968 (405)<br>
 6: __Xvm_allocate_cpm: fffffff0074ddb90 (406)<br>
 7: __Xhost_processors: fffffff0074ddd34 (407)<br>
 8: __Xhost_get_clock_control: fffffff0074ddf80 (408)<br>
 9: __Xkmod_create: fffffff0074de120 (409)<br>
 10: __Xkmod_destroy: fffffff0074de234 (410)<br>
 11: __Xkmod_control: fffffff0074de3b8 (411)<br>
 12: __Xhost_get_special_port: fffffff0074de514 (412)<br>
 13: __Xhost_set_special_port: fffffff0074de698 (413)<br>
 14: __Xhost_set_exception_ports: fffffff0074de820 (414)<br>
 15: __Xhost_get_exception_ports: fffffff0074de9ac (415)<br>
 16: __Xhost_swap_exception_ports: fffffff0074ded1c (416)<br>
 17: __Xmach_vm_wire: fffffff0074df3d8 (418)<br>
 18: __Xhost_processor_sets: fffffff0074df5b4 (419)<br>
 19: __Xhost_processor_set_priv: fffffff0074df794 (420)<br>
 20: __Xset_dp_control_port: fffffff0074df9b8 (421)<br>
 21: __Xget_dp_control_port: fffffff0074dfb68 (422)<br>
 22: __Xhost_set_UNDServer: fffffff0074dfd20 (423)<br>
 23: __Xhost_get_UNDServer: fffffff0074dfea8 (424)<br>
 24: __Xkext_request: fffffff0074e0020 (425)<br>
host_security_subsystem is @0xfffffff007461f50!<br>
 0: __Xhost_security_create_task_token: fffffff0074e1e2c (600)<br>
 1: __Xhost_security_set_task_token: fffffff0074e2018 (601)<br>
mach_port_subsystem is @0xfffffff007462660!<br>
 0: __Xmach_port_names: fffffff0074e5be0 (3200)<br>
 1: __Xmach_port_type: fffffff0074e5de4 (3201)<br>
 2: __Xmach_port_rename: fffffff0074e6010 (3202)<br>
 3: __Xmach_port_allocate_name: fffffff0074e61ac (3203)<br>
 4: __Xmach_port_allocate: fffffff0074e639c (3204)<br>
 5: __Xmach_port_destroy: fffffff0074e6574 (3205)<br>
 6: __Xmach_port_deallocate: fffffff0074e6720 (3206)<br>
 7: __Xmach_port_get_refs: fffffff0074e68cc (3207)<br>
 8: __Xmach_port_mod_refs: fffffff0074e6b64 (3208)<br>
 9: __Xmach_port_peek: fffffff0074e6d14 (3209)<br>
 10: __Xmach_port_set_mscount: fffffff0074e7114 (3210)<br>
 11: __Xmach_port_get_set_status: fffffff0074e731c (3211)<br>
 12: __Xmach_port_move_member: fffffff0074e7950 (3212)<br>
 13: __Xmach_port_request_notification: fffffff0074e7afc (3213)<br>
 14: __Xmach_port_insert_right: fffffff0074e7e88 (3214)<br>
 15: __Xmach_port_extract_right: fffffff0074e80a4 (3215)<br>
 16: __Xmach_port_set_seqno: fffffff0074e8308 (3216)<br>
 17: __Xmach_port_get_attributes: fffffff0074e8544 (3217)<br>
 18: __Xmach_port_set_attributes: fffffff0074e88f0 (3218)<br>
 19: __Xmach_port_allocate_qos: fffffff0074e8acc (3219)<br>
 20: __Xmach_port_allocate_full: fffffff0074e8cb8 (3220)<br>
 21: __Xtask_set_port_space: fffffff0074e8ecc (3221)<br>
 22: __Xmach_port_get_srights: fffffff0074e90c0 (3222)<br>
 23: __Xmach_port_space_info: fffffff0074e92c4 (3223)<br>
 24: __Xmach_port_dnrequest_info: fffffff0074e9808 (3224)<br>
 25: __Xmach_port_kernel_object: fffffff0074e9ad4 (3225)<br>
 26: __Xmach_port_insert_member: fffffff0074e9cb0 (3226)<br>
 27: __Xmach_port_extract_member: fffffff0074e9e5c (3227)<br>
 28: __Xmach_port_get_context: fffffff0074ea008 (3228)<br>
 29: __Xmach_port_set_context: fffffff0074ea230 (3229)<br>
 30: __Xmach_port_kobject: fffffff0074ea4c0 (3230)<br>
 31: __Xmach_port_construct: fffffff0074ea684 (3231)<br>
 32: __Xmach_port_destruct: fffffff0074ea884 (3232)<br>
 33: __Xmach_port_guard: fffffff0074eaa34 (3233)<br>
 34: __Xmach_port_unguard: fffffff0074eabe8 (3234)<br>
 35: __Xmach_port_space_basic_info: fffffff0074ead98 (3235)<br>
mach_vm_subsystem is @0xfffffff007462c20!<br>
 0: __Xmach_vm_allocate: fffffff0074eafec (4800)<br>
 1: __Xmach_vm_deallocate: fffffff0074eb120 (4801)<br>
 2: __Xmach_vm_protect: fffffff0074eb28c (4802)<br>
 3: __Xmach_vm_inherit: fffffff0074eb3a0 (4803)<br>
 4: __Xmach_vm_read: fffffff0074eb4b4 (4804)<br>
 5: __Xmach_vm_read_list: fffffff0074eb650 (4805)<br>
 6: __Xmach_vm_write: fffffff0074eb78c (4806)<br>
 7: __Xmach_vm_copy: fffffff0074eb8f0 (4807)<br>
 8: __Xmach_vm_read_overwrite: fffffff0074eba04 (4808)<br>
 9: __Xmach_vm_msync: fffffff0074ebb2c (4809)<br>
 10: __Xmach_vm_behavior_set: fffffff0074ebc54 (4810)<br>
 11: __Xmach_vm_map: fffffff0074ebd68 (4811)<br>
 12: __Xmach_vm_machine_attribute: fffffff0074ebf4c (4812)<br>
 13: __Xmach_vm_remap: fffffff0074ec0d0 (4813)<br>
 14: __Xmach_vm_page_query: fffffff0074ec2a8 (4814)<br>
 15: __Xmach_vm_region_recurse: fffffff0074ec434 (4815)<br>
 16: __Xmach_vm_region: fffffff0074ec5d4 (4816)<br>
 17: __X_mach_make_memory_entry: fffffff0074ec798 (4817)<br>
 18: __Xmach_vm_purgable_control: fffffff0074ec94c (4818)<br>
 19: __Xmach_vm_page_info: fffffff0074ecaac (4819)<br>
processor_subsystem is @0xfffffff0074630b8!<br>
 0: __Xprocessor_start: fffffff0074f1858 (3000)<br>
 1: __Xprocessor_exit: fffffff0074f19a8 (3001)<br>
 2: __Xprocessor_info: fffffff0074f1af8 (3002)<br>
 3: __Xprocessor_control: fffffff0074f1cc0 (3003)<br>
 4: __Xprocessor_assign: fffffff0074f1e30 (3004)<br>
 5: __Xprocessor_get_assignment: fffffff0074f1f44 (3005)<br>
processor_set_subsystem is @0xfffffff0074631c8!<br>
 0: __Xprocessor_set_statistics: fffffff0074f2108 (4000)<br>
 1: __Xprocessor_set_destroy: fffffff0074f22e0 (4001)<br>
 2: __Xprocessor_set_max_priority: fffffff0074f23f0 (4002)<br>
 3: __Xprocessor_set_policy_enable: fffffff0074f2500 (4003)<br>
 4: __Xprocessor_set_policy_disable: fffffff0074f2610 (4004)<br>
 5: __Xprocessor_set_tasks: fffffff0074f2720 (4005)<br>
 6: __Xprocessor_set_threads: fffffff0074f2ad4 (4006)<br>
 7: __Xprocessor_set_policy_control: fffffff0074f2b9c (4007)<br>
 8: __Xprocessor_set_stack_usage: fffffff0074f2cd4 (4008)<br>
 9: __Xprocessor_set_info: fffffff0074f2fbc (4009)<br>
thread_act_subsystem is @0xfffffff007463b90!<br>
 0: __Xthread_terminate: fffffff0074fa508 (3600)<br>
 1: __Xact_get_state: fffffff0074fa670 (3601)<br>
 2: __Xact_set_state: fffffff0074fa828 (3602)<br>
 3: __Xthread_get_state: fffffff0074fa9d8 (3603)<br>
 4: __Xthread_set_state: fffffff0074fab80 (3604)<br>
 5: __Xthread_suspend: fffffff0074fad1c (3605)<br>
 6: __Xthread_resume: fffffff0074faf40 (3606)<br>
 7: __Xthread_abort: fffffff0074fb0a8 (3607)<br>
 8: __Xthread_abort_safely: fffffff0074fb210 (3608)<br>
 9: __Xthread_depress_abort: fffffff0074fb378 (3609)<br>
 10: __Xthread_get_special_port: fffffff0074fb510 (3610)<br>
 11: __Xthread_set_special_port: fffffff0074fb730 (3611)<br>
 12: __Xthread_info: fffffff0074fb92c (3612)<br>
 13: __Xthread_set_exception_ports: fffffff0074fbb20 (3613)<br>
 14: __Xthread_get_exception_ports: fffffff0074fc050 (3614)<br>
 15: __Xthread_swap_exception_ports: fffffff0074fc580 (3615)<br>
 16: __Xthread_policy: fffffff0074fccf0 (3616)<br>
 17: __Xthread_policy_set: fffffff0074fd058 (3617)<br>
 18: __Xthread_policy_get: fffffff0074fd1f0 (3618)<br>
 19: __Xthread_sample: 0 (3619)<br>
 20: __Xetap_trace_thread: 0 (3620)<br>
 21: __Xthread_assign: fffffff0074fd3ac (3621)<br>
 22: __Xthread_assign_default: fffffff0074fd590 (3622)<br>
 23: __Xthread_get_assignment: fffffff0074fd6f4 (3623)<br>
 24: __Xthread_set_policy: fffffff0074fd884 (3624)<br>
 25: __Xthread_get_mach_voucher: fffffff0074fdbb0 (3625)<br>
 26: __Xthread_set_mach_voucher: fffffff0074fde64 (3626)<br>
 27: __Xthread_swap_mach_voucher: fffffff0074fe0a0 (3627)</p>
